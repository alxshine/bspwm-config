#! /bin/zsh

kill_thing() {
    if (pgrep -x $1); then
        # echo "sxhkd already running"
        killall $1
        # echo "killed, waiting a bit"
        sleep 0.1
    fi
}

try_source () {
    [[ ! -f "$1" ]] || source "$1"
}


kill_thing sxhkd
sxhkd -c ~/.config/bspwm/sxhkdrc &

bspc monitor '^1' -n left -d F1 F2 F3 F4
bspc monitor '^2' -n main -d F5 F6 F7 F8

bspc config border_width         2
bspc config window_gap          22

bspc config split_ratio          0.4
bspc config borderless_monocle   true
bspc config gapless_monocle      false

bspc config initial_polarity second_child
bspc config automatic_scheme alternate

bspc rule -a Gimp desktop='^8' state=floating follow=on
bspc rule -a Chromium desktop='^2'
bspc rule -a mplayer2 state=floating
bspc rule -a Kupfer.py focus=on
bspc rule -a Screenkey manage=off

kill_thing dunst
dunst &

try_source "$HOME/.config/bspwm/custom.sh"
